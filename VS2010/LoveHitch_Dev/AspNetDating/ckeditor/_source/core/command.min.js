CKEDITOR.command=function(n,t){this.uiItems=[],this.exec=function(i){return this.state==CKEDITOR.TRISTATE_DISABLED?!1:(this.editorFocus&&n.focus(),t.exec.call(this,n,i)!==!1)},CKEDITOR.tools.extend(this,t,{modes:{wysiwyg:1},editorFocus:!0,state:CKEDITOR.TRISTATE_OFF}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(!this.preserveState||typeof this.previousState=="undefined"?CKEDITOR.TRISTATE_OFF:this.previousState)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(n){return this.state==n?!1:(this.previousState=this.state,this.state=n,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype,!0);