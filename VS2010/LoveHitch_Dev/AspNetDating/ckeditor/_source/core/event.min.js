CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(n){var i=CKEDITOR.event.prototype,t;for(t in i)n[t]==undefined&&(n[t]=i[t])},CKEDITOR.event.prototype=function(){var n=function(n){var t=n.getPrivate&&n.getPrivate()||n._||(n._={});return t.events||(t.events={})},t=function(n){this.name=n,this.listeners=[]};return t.prototype={getListenerIndex:function(n){for(var t=0,i=this.listeners;t<i.length;t++)if(i[t].fn==n)return t;return-1}},{on:function(i,r,u,f,e){var c=n(this),l=c[i]||(c[i]=new t(i)),o,a,s,h;if(l.getListenerIndex(r)<0){for(o=l.listeners,u||(u=this),isNaN(e)&&(e=10),a=this,s=function(n,t,e,o){var s={name:i,sender:this,editor:n,data:t,listenerData:f,stop:e,cancel:o,removeListener:function(){a.removeListener(i,r)}};return r.call(u,s),s.data},s.fn=r,s.priority=e,h=o.length-1;h>=0;h--)if(o[h].priority<=e){o.splice(h+1,0,s);return}o.unshift(s)}},fire:function(){var i=!1,r=function(){i=!0},t=!1,u=function(){t=!0};return function(f,e,o){var l=n(this)[f],v=i,y=t,s,h,c,a;if(i=t=!1,l&&(s=l.listeners,s.length))for(s=s.slice(0),h=0;h<s.length;h++)if(c=s[h].call(this,o,e,r,u),typeof c!="undefined"&&(e=c),i||t)break;return a=t||(typeof e=="undefined"?!1:e),i=v,t=y,a}}(),fireOnce:function(t,i,r){var u=this.fire(t,i,r);return delete n(this)[t],u},removeListener:function(t,i){var r=n(this)[t],u;r&&(u=r.getListenerIndex(i),u>=0&&r.listeners.splice(u,1))},hasListeners:function(t){var i=n(this)[t];return i&&i.listeners.length>0}}}());