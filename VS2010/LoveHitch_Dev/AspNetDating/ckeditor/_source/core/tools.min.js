(function(){var n=[];CKEDITOR.tools={arrayCompare:function(n,t){if(!n&&!t)return!0;if(!n||!t||n.length!=t.length)return!1;for(var i=0;i<n.length;i++)if(n[i]!=t[i])return!1;return!0},clone:function(n){var t,i,r,u;if(n&&n instanceof Array){for(t=[],i=0;i<n.length;i++)t[i]=this.clone(n[i]);return t}if(n===null||typeof n!="object"||n instanceof String||n instanceof Number||n instanceof Boolean||n instanceof Date||n instanceof RegExp)return n;t=new n.constructor;for(r in n)u=n[r],t[r]=this.clone(u);return t},capitalize:function(n){return n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()},extend:function(n){var t=arguments.length,u,f,r,e,i;for(typeof(u=arguments[t-1])=="boolean"?t--:typeof(u=arguments[t-2])=="boolean"&&(f=arguments[t-1],t-=2),r=1;r<t;r++){e=arguments[r];for(i in e)(u===!0||n[i]==undefined)&&(!f||i in f)&&(n[i]=e[i])}return n},prototypedCopy:function(n){var t=function(){};return t.prototype=n,new t},isArray:function(n){return!!n&&n instanceof Array},isEmpty:function(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0},cssStyleToDomStyle:function(){var n=document.createElement("div").style,t=typeof n.cssFloat!="undefined"?"cssFloat":typeof n.styleFloat!="undefined"?"styleFloat":"float";return function(n){return n=="float"?t:n.replace(/-./g,function(n){return n.substr(1).toUpperCase()})}}(),buildStyleHtml:function(n){var t,i,r;for(n=[].concat(n),i=[],r=0;r<n.length;r++)t=n[r],/@import|[{}]/.test(t)?i.push("<style>"+t+"<\/style>"):i.push('<link type="text/css" rel=stylesheet href="'+t+'">');return i.join("")},htmlEncode:function(n){var t=function(n){var t=new CKEDITOR.dom.element("span");return t.setText(n),t.getHtml()},i=t("\n").toLowerCase()=="<br>"?function(n){return t(n).replace(/<br>/gi,"\n")}:t,r=t(">")==">"?function(n){return i(n).replace(/>/g,"&gt;")}:i,u=t("  ")=="&nbsp; "?function(n){return r(n).replace(/&nbsp;/g," ")}:r;return this.htmlEncode=u,this.htmlEncode(n)},escapeCssSelector:function(n){return n.replace(/[\s#:.,$*^\[\]()~=+>]/g,"\\$&")},getNextNumber:function(){var n=0;return function(){return++n}}(),override:function(n,t){return t(n)},setTimeout:function(n,t,i,r,u){return u||(u=window),i||(i=u),u.setTimeout(function(){r?n.apply(i,[].concat(r)):n.apply(i)},t||0)},trim:function(){var n=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(t){return t.replace(n,"")}}(),ltrim:function(){var n=/^[ \t\n\r]+/g;return function(t){return t.replace(n,"")}}(),rtrim:function(){var n=/[ \t\n\r]+$/g;return function(t){return t.replace(n,"")}}(),indexOf:Array.prototype.indexOf?function(n,t){return n.indexOf(t)}:function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},bind:function(n,t){return function(){return n.apply(t,arguments)}},createClass:function(n){var t=n.$,i=n.base,r=n.privates||n._,u=n.proto,f=n.statics,e;return r&&(e=t,t=function(){var i=this._||(this._={}),t,n;for(t in r)n=r[t],i[t]=typeof n=="function"?CKEDITOR.tools.bind(n,this):n;e.apply(this,arguments)}),i&&(t.prototype=this.prototypedCopy(i.prototype),t.prototype.constructor=t,t.prototype.base=function(){this.base=i.prototype.base,i.apply(this,arguments),this.base=arguments.callee}),u&&this.extend(t.prototype,u,!0),f&&this.extend(t,f,!0),t},addFunction:function(t,i){return n.push(function(){t.apply(i||this,arguments)})-1},callFunction:function(t){var i=n[t];return i&&i.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var n=/^\d+(?:\.\d+)?$/;return function(t){return t+(n.test(t)?"px":"")}}(),repeat:function(n,t){return new Array(t+1).join(n)},tryThese:function(){for(var t,r,n=0,i=arguments.length;n<i;n++){r=arguments[n];try{t=r();break}catch(u){}}return t}}})();