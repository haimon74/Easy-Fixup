CKEDITOR.dialog.add("scaytcheck",function(n){function p(){return document.forms.optionsbar.options}function d(){return document.forms.languagesbar.scayt_lang}function w(n,t){var r,i;if(n){if(r=n.length,r==undefined){n.checked=n.value==t.toString();return}for(i=0;i<r;i++)n[i].checked=!1,n[i].value==t.toString()&&(n[i].checked=!0)}}function f(n){t.getById("dic_message").setHtml('<span style="color:red;">'+n+"<\/span>")}function o(n){t.getById("dic_message").setHtml('<span style="color:blue;">'+n+"<\/span>")}function s(n){var r,i,u;for(n=String(n),r=n.split(","),i=0,u=r.length;i<u;i+=1)t.getById(r[i]).$.style.display="inline"}function h(n){var r,i,u;for(n=String(n),r=n.split(","),i=0,u=r.length;i<u;i+=1)t.getById(r[i]).$.style.display="none"}function y(n){t.getById("dic_name").$.value=n}var c=!0,i,t=CKEDITOR.document,r=[],e,l=[],a=!1,u=["dic_create,dic_restore","dic_rename,dic_delete"],k=["mixedCase","mixedWithDigits","allCaps","ignoreDomainNames"],g=CKEDITOR.plugins.scayt.getScayt(n),b,v;r=CKEDITOR.plugins.scayt.uiTabs;for(e in r)r[e]==1&&(l[l.length]=[{id:"options",label:n.lang.scayt.optionsTab,elements:[{type:"html",id:"options",html:'<form name="optionsbar"><div class="inner_options">\t<div class="messagebox"><\/div>\t<div style="display:none;">\t\t<input type="checkbox" name="options"  id="allCaps" />\t\t<label for="allCaps" id="label_allCaps"><\/label>\t<\/div>\t<div style="display:none;">\t\t<input name="options" type="checkbox"  id="ignoreDomainNames" />\t\t<label for="ignoreDomainNames" id="label_ignoreDomainNames"><\/label>\t<\/div>\t<div style="display:none;">\t<input name="options" type="checkbox"  id="mixedCase" />\t\t<label for="mixedCase" id="label_mixedCase"><\/label>\t<\/div>\t<div style="display:none;">\t\t<input name="options" type="checkbox"  id="mixedWithDigits" />\t\t<label for="mixedWithDigits" id="label_mixedWithDigits"><\/label>\t<\/div><\/div><\/form>'}]},{id:"langs",label:n.lang.scayt.languagesTab,elements:[{type:"html",id:"langs",html:'<form name="languagesbar"><div class="inner_langs">\t<div class="messagebox"><\/div>\t   <div style="float:left;width:45%;margin-left:5px;" id="scayt_lcol" ><\/div>   <div style="float:left;width:45%;margin-left:15px;" id="scayt_rcol"><\/div><\/div><\/form>'}]},{id:"dictionaries",label:n.lang.scayt.dictionariesTab,elements:[{type:"html",style:"",id:"dictionaries",html:'<form name="dictionarybar"><div class="inner_dictionary" style="text-align:left; white-space:normal; width:320px; overflow: hidden;">\t<div style="margin:5px auto; width:80%;white-space:normal; overflow:hidden;" id="dic_message"> <\/div>\t<div style="margin:5px auto; width:80%;white-space:normal;">        <span class="cke_dialog_ui_labeled_label" >Dictionary name<\/span><br>\t\t<span class="cke_dialog_ui_labeled_content" >\t\t\t<div class="cke_dialog_ui_input_text">\t\t\t\t<input id="dic_name" type="text" class="cke_dialog_ui_input_text"/>\t\t<\/div><\/span><\/div>\t\t<div style="margin:5px auto; width:80%;white-space:normal;">\t\t\t<a style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_create">\t\t\t\t<\/a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_delete">\t\t\t\t<\/a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_rename">\t\t\t\t<\/a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_restore">\t\t\t\t<\/a>\t\t<\/div>\t<div style="margin:5px auto; width:95%;white-space:normal;" id="dic_info"><\/div><\/div><\/form>'}]},{id:"about",label:n.lang.scayt.aboutTab,elements:[{type:"html",id:"about",style:"margin: 5px 5px;",html:'<div id="scayt_about"><\/div>'}]}][e]);return r[2]==1&&(a=!0),b=function(){function ht(n){var e=t.getById("dic_name").getValue(),i,r;if(!e)return f(" Dictionary name should not be empty. "),!1;try{i=r=n.data.getTarget().getParent(),r=i.getId(),l[r].apply(null,[i,e,u])}catch(o){f(" Dictionary error. ")}return!0}var c=this,v=c.data.scayt.getLangList(),it=["dic_create","dic_delete","dic_rename","dic_restore"],b=k,n,d,p,w,rt,ut,g,e,ft,et,ot,l,nt,st,tt;if(a){for(n in it)d=it[n],t.getById(d).setHtml('<span class="cke_dialog_ui_button">'+i["button_"+d]+"<\/span>");t.getById("dic_info").setHtml(i.dic_info)}if(r[0]==1)for(n in b)p="label_"+b[n],w=t.getById(p),"undefined"!=typeof w&&"undefined"!=typeof i[p]&&"undefined"!=typeof c.options[b[n]]&&(w.setHtml(i[p]),rt=w.getParent(),rt.$.style.display="block");if(ut="<p>"+i.about_throwt_image+"<\/p><p>"+i.version+c.data.scayt.version.toString()+"<\/p><p>"+i.about_throwt_copy+"<\/p>",t.getById("scayt_about").setHtml(ut),g=function(n,i){var u=t.createElement("label"),r,f;u.setAttribute("for","cke_option"+n),u.setHtml(i[n]),c.sLang==n&&(c.chosed_lang=n),r=t.createElement("div"),f=CKEDITOR.dom.element.createFromHtml('<input id="cke_option'+n+'" type="radio" '+(c.sLang==n?'checked="checked"':"")+' value="'+n+'" name="scayt_lang" />');f.on("click",function(){this.$.checked=!0,c.chosed_lang=n});return r.append(f),r.append(u),{lang:i[n],code:n,radio:r}},e=[],r[1]==1){for(n in v.rtl)e[e.length]=g(n,v.ltr);for(n in v.ltr)e[e.length]=g(n,v.ltr);for(e.sort(function(n,t){return t.lang>n.lang?-1:1}),ft=t.getById("scayt_lcol"),et=t.getById("scayt_rcol"),n=0;n<e.length;n++)ot=n<e.length/2?ft:et,ot.append(e[n].radio)}for(l={},l.dic_create=function(n,t,r){var c=r[0]+","+r[1],u=i.err_dic_create,e=i.succ_dic_create;window.scayt.createUserDictionary(t,function(n){h(c),s(r[1]),e=e.replace("%s",n.dname),o(e)},function(n){u=u.replace("%s",n.dname),f(u+"( "+(n.message||"")+")")})},l.dic_rename=function(n,t){var r=i.err_dic_rename||"",u=i.succ_dic_rename||"";window.scayt.renameUserDictionary(t,function(n){u=u.replace("%s",n.dname),y(t),o(u)},function(n){r=r.replace("%s",n.dname),y(t),f(r+"( "+(n.message||"")+" )")})},l.dic_delete=function(n,t,r){var c=r[0]+","+r[1],u=i.err_dic_delete,e=i.succ_dic_delete;window.scayt.deleteUserDictionary(function(n){e=e.replace("%s",n.dname),h(c),s(r[0]),y(""),o(e)},function(n){u=u.replace("%s",n.dname),f(u)})},l.dic_restore=c.dic_restore||function(n,t,r){var c=r[0]+","+r[1],u=i.err_dic_restore,e=i.succ_dic_restore;window.scayt.restoreUserDictionary(t,function(n){e=e.replace("%s",n.dname),h(c),s(r[1]),o(e)},function(n){u=u.replace("%s",n.dname),f(u)})},nt=(u[0]+","+u[1]).split(","),n=0,st=nt.length;n<st;n+=1)if(tt=t.getById(nt[n]),tt)tt.on("click",ht,this)},v=function(){var f=this,i,n,v,e,l,y;if(r[0]==1)for(i=p(),n=0,v=i.length;n<v;n++)if(e=i[n].id,l=t.getById(e),l&&(i[n].checked=!1,f.options[e]==1&&(i[n].checked=!0),c))l.on("click",function(){f.options[this.getId()]=this.$.checked?1:0});r[1]==1&&(y=t.getById("cke_option"+f.sLang),w(y.$,f.sLang)),a&&(window.scayt.getNameUserDictionary(function(n){var i=n.dname;h(u[0]+","+u[1]),i?(t.getById("dic_name").setValue(i),s(u[1])):s(u[0])},function(){t.getById("dic_name").setValue("")}),o(""))},{title:n.lang.scayt.title,minWidth:360,minHeight:220,onShow:function(){var t=this,r;if(t.data=n.fire("scaytDialog",{}),t.options=t.data.scayt_control.option(),t.sLang=t.data.scayt_control.sLang,!t.data||!t.data.scayt||!t.data.scayt_control){alert("Error loading application service"),t.hide();return}r=0,c?t.data.scayt.getCaption(n.langCode||"en",function(n){r++>0||(i=n,b.apply(t),v.apply(t),c=!1)}):v.apply(t),t.selectPage(t.data.tab)},onOk:function(){var n=this.data.scayt_control,t;n.option(this.options),t=this.chosed_lang,n.setLang(t),n.refresh()},onCancel:function(){var n=p();for(e in n)n[e].checked=!1;w(d(),"")},contents:l}});