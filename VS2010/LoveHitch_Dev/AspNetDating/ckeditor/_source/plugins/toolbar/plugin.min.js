(function(){var n=function(){this.toolbars=[],this.focusCommandExecuted=!1},t;n.prototype.focus=function(){for(var i,r,n,t=0;i=this.toolbars[t++];)for(r=0;n=i.items[r++];)if(n.focus){n.focus();return}},t={toolbarFocus:{modes:{wysiwyg:1,source:1},exec:function(n){n.toolbox&&(n.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie?setTimeout(function(){n.toolbox.focus()},100):n.toolbox.focus())}}},CKEDITOR.plugins.add("toolbar",{init:function(i){var r=function(n,t){switch(t){case 39:case 9:while((n=n.next||n.toolbar.next&&n.toolbar.next.items[0])&&!n.focus);return n?n.focus():i.toolbox.focus(),!1;case 37:case CKEDITOR.SHIFT+9:while((n=n.previous||n.toolbar.previous&&n.toolbar.previous.items[n.toolbar.previous.items.length-1])&&!n.focus);if(n)n.focus();else{var r=i.toolbox.toolbars[i.toolbox.toolbars.length-1].items;r[r.length-1].focus()}return!1;case 27:return i.focus(),!1;case 13:case 32:return n.execute(),!1}return!0};i.on("themeSpace",function(t){var u,c,f,y,p,l,h,w,e,s,a,v,b,o,d,k;if(t.data.space==i.config.toolbarLocation){for(i.toolbox=new n,u=['<div class="cke_toolbox"'],c=i.config.toolbarStartupExpanded!==!1,u.push(c?">":' style="display:none">'),y=i.toolbox.toolbars,p=i.config.toolbar instanceof Array?i.config.toolbar:i.config["toolbar_"+i.config.toolbar],l=0;l<p.length;l++)if(h=p[l],h){if(w="cke_"+CKEDITOR.tools.getNextNumber(),e={id:w,items:[]},f&&(u.push("<\/div>"),f=0),h==="/"){u.push('<div class="cke_break"><\/div>');continue}for(u.push('<span id="',w,'" class="cke_toolbar"><span class="cke_toolbar_start"><\/span>'),s=y.push(e)-1,s>0&&(e.previous=y[s-1],e.previous.next=e),a=0;a<h.length;a++)b=h[a],v=b=="-"?CKEDITOR.ui.separator:i.ui.create(b),v&&(v.canGroup?f||(u.push('<span class="cke_toolgroup">'),f=1):f&&(u.push("<\/span>"),f=0),o=v.render(i,u),s=e.items.push(o)-1,s>0&&(o.previous=e.items[s-1],o.previous.next=o),o.toolbar=e,o.onkey=r,o.onfocus=function(){i.toolbox.focusCommandExecuted||i.focus()});f&&(u.push("<\/span>"),f=0),u.push('<span class="cke_toolbar_end"><\/span><\/span>')}u.push("<\/div>"),i.config.toolbarCanCollapse&&(d=CKEDITOR.tools.addFunction(function(){i.execCommand("toolbarCollapse")}),k="cke_"+CKEDITOR.tools.getNextNumber(),i.addCommand("toolbarCollapse",{exec:function(n){var t=CKEDITOR.document.getById(k),i=t.getPrevious(),r=n.getThemeSpace("contents"),u=i.getParent(),e=parseInt(r.$.style.height,10),o=u.$.offsetHeight,f;i.isVisible()?(i.hide(),t.addClass("cke_toolbox_collapser_min"),t.setAttribute("title",n.lang.toolbarExpand)):(i.show(),t.removeClass("cke_toolbox_collapser_min"),t.setAttribute("title",n.lang.toolbarCollapse)),f=u.$.offsetHeight-o,r.setStyle("height",e-f+"px")},modes:{wysiwyg:1,source:1}}),u.push('<a title="'+(c?i.lang.toolbarCollapse:i.lang.toolbarExpand)+'" id="'+k+'" class="cke_toolbox_collapser'),c||u.push(" cke_toolbox_collapser_min"),u.push('" onclick="CKEDITOR.tools.callFunction('+d+')"><\/a>')),t.data.html+=u.join("")}});i.addCommand("toolbarFocus",t.toolbarFocus)}})})(),CKEDITOR.ui.separator={render:function(n,t){return t.push('<span class="cke_separator"><\/span>'),{}}},CKEDITOR.config.toolbarLocation="top",CKEDITOR.config.toolbar_Basic=[["Bold","Italic","-","NumberedList","BulletedList","-","Link","Unlink","-","About"]],CKEDITOR.config.toolbar_Full=[["Source","-","Save","NewPage","Preview","-","Templates"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Print","SpellChecker","Scayt"],["Undo","Redo","-","Find","Replace","-","SelectAll","RemoveFormat"],["Form","Checkbox","Radio","TextField","Textarea","Select","Button","ImageButton","HiddenField"],"/",["Bold","Italic","Underline","Strike","-","Subscript","Superscript"],["NumberedList","BulletedList","-","Outdent","Indent","Blockquote","CreateDiv"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["Link","Unlink","Anchor"],["Image","Flash","Table","HorizontalRule","Smiley","SpecialChar","PageBreak"],"/",["Styles","Format","Font","FontSize"],["TextColor","BGColor"],["Maximize","ShowBlocks","-","About"]],CKEDITOR.config.toolbar="Full",CKEDITOR.config.toolbarCanCollapse=!0;