CKEDITOR.resourceManager=function(n,t){this.basePath=n,this.fileName=t,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(n,t){if(this.registered[n])throw'[CKEDITOR.resourceManager.add] The resource name "'+n+'" is already registered.';CKEDITOR.fire(n+CKEDITOR.tools.capitalize(this.fileName)+"Ready",this.registered[n]=t||{})},get:function(n){return this.registered[n]||null},getPath:function(n){var t=this.externals[n];return CKEDITOR.getUrl(t&&t.dir||this.basePath+n+"/")},getFilePath:function(n){var t=this.externals[n];return CKEDITOR.getUrl(this.getPath(n)+(t&&t.file||this.fileName+".js"))},addExternal:function(n,t,i){var r,u;for(n=n.split(","),r=0;r<n.length;r++)u=n[r],this.externals[u]={dir:t,file:i}},load:function(n,t,i){var e,r,f;CKEDITOR.tools.isArray(n)||(n=n?[n]:[]);var s=this.loaded,c=this.registered,h=[],u={},o={};for(e=0;e<n.length;e++)(r=n[e],r)&&(s[r]||c[r]?o[r]=this.get(r):(f=this.getFilePath(r),h.push(f),f in u||(u[f]=[]),u[f].push(r)));CKEDITOR.scriptLoader.load(h,function(n,r){var f,c,e,h;if(r.length)throw'[CKEDITOR.resourceManager.load] Resource name "'+u[r[0]].join(",")+'" was not found at "'+r[0]+'".';for(f=0;f<n.length;f++)for(c=u[n[f]],e=0;e<c.length;e++)h=c[e],o[h]=this.get(h),s[h]=1;t.call(i,o)},this)}};