(function(){var t={toolbarFocus:{exec:function(n){var i=n._.elementsPath.idBase,t=CKEDITOR.document.getById(i+"0");t&&t.focus()}}},n='<span class="cke_empty">&nbsp;<\/span>';CKEDITOR.plugins.add("elementspath",{requires:["selection"],init:function(i){var u="cke_path_"+i.name,r,f=function(){return r||(r=CKEDITOR.document.getById(u)),r},e="cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_";i._.elementsPath={idBase:e};i.on("themeSpace",function(t){t.data.space=="bottom"&&(t.data.html+='<div id="'+u+'" class="cke_path">'+n+"<\/div>")});i.on("selectionChange",function(t){for(var o=CKEDITOR.env,l=t.data.selection,r=l.getStartElement(),c=[],a=this._.elementsPath.list=[],s,u,h;r;){if(s=a.push(r)-1,u=r.getAttribute("_cke_real_element_type")?r.getAttribute("_cke_real_element_type"):r.getName(),h="",(o.opera||o.gecko&&o.mac)&&(h+=' onkeypress="return false;"'),o.gecko&&(h+=' onblur="this.style.cssText = this.style.cssText;"'),c.unshift('<a id="',e,s,'" href="javascript:void(\'',u,'\')" tabindex="-1" title="',i.lang.elementsPath.eleTitle.replace(/%1/,u),'"'+(CKEDITOR.env.gecko&&CKEDITOR.env.version<10900?' onfocus="event.preventBubble();"':"")+' hidefocus="true"  onkeydown="return CKEDITOR._.elementsPath.keydown(\'',this.name,"',",s,', event);"'+h," onclick=\"return CKEDITOR._.elementsPath.click('",this.name,"',",s,');">',u,"<\/a>"),u=="body")break;r=r.getParent()}f().setHtml(c.join("")+n)});i.on("contentDomUnload",function(){f().setHtml(n)});i.addCommand("elementsPathFocus",t.toolbarFocus)}})})(),CKEDITOR._.elementsPath={click:function(n,t){var i=CKEDITOR.instances[n],r;return i.focus(),r=i._.elementsPath.list[t],i.getSelection().selectElement(r),!1},keydown:function(n,t,i){var e=CKEDITOR.ui.button._.instances[t],f=CKEDITOR.instances[n],u=f._.elementsPath.idBase,r;i=new CKEDITOR.dom.event(i);switch(i.getKeystroke()){case 37:case 9:return(r=CKEDITOR.document.getById(u+(t+1)))||(r=CKEDITOR.document.getById(u+"0")),r.focus(),!1;case 39:case CKEDITOR.SHIFT+9:return(r=CKEDITOR.document.getById(u+(t-1)))||(r=CKEDITOR.document.getById(u+(f._.elementsPath.list.length-1))),r.focus(),!1;case 27:return f.focus(),!1;case 13:case 32:return this.click(n,t),!1}return!0}};