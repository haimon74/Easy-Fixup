CKEDITOR.plugins.add("keystrokes",{beforeInit:function(n){n.keystrokeHandler=new CKEDITOR.keystrokeHandler(n),n.specialKeys={}},init:function(n){for(var i=n.config.keystrokes,r=n.config.blockedKeystrokes,u=n.keystrokeHandler.keystrokes,f=n.keystrokeHandler.blockedKeystrokes,t=0;t<i.length;t++)u[i[t][0]]=i[t][1];for(t=0;t<r.length;t++)f[r[t]]=1}}),CKEDITOR.keystrokeHandler=function(n){return n.keystrokeHandler?n.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:n},this)},function(){var n,t=function(t){var e,u;t=t.data;var i=t.getKeystroke(),f=this.keystrokes[i],r=this._.editor;return(n=r.fire("key",{keyCode:i})===!0)||(f&&(e={from:"keystrokeHandler"},n=r.execCommand(f,e)!==!1),n||(u=r.specialKeys[i],n=u&&u(r)===!0,n||(n=!!this.blockedKeystrokes[i]))),n&&t.preventDefault(!0),!n},i=function(t){n&&(n=!1,t.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(n){n.on("keydown",t,this);if(CKEDITOR.env.opera||CKEDITOR.env.gecko&&CKEDITOR.env.mac)n.on("keypress",i,this)}}}(),CKEDITOR.config.blockedKeystrokes=[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85],CKEDITOR.config.keystrokes=[[CKEDITOR.ALT+121,"toolbarFocus"],[CKEDITOR.ALT+122,"elementsPathFocus"],[CKEDITOR.SHIFT+121,"contextMenu"],[CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu"],[CKEDITOR.CTRL+90,"undo"],[CKEDITOR.CTRL+89,"redo"],[CKEDITOR.CTRL+CKEDITOR.SHIFT+90,"redo"],[CKEDITOR.CTRL+76,"link"],[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"],[CKEDITOR.ALT+109,"toolbarCollapse"]];