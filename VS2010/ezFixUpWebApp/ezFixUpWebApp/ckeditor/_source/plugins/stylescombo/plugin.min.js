(function(){function t(n){var t=[],i=n.element,r,u,f;if(i=="bdo"&&(i="span"),t=["<",i],r=n.attributes,r)for(u in r)t.push(" ",u,'="',r[u],'"');return(f=CKEDITOR.style.getStyleText(n))&&t.push(' style="',f,'"'),t.push(">",n.name,"<\/",i,">"),t.join("")}function i(n,t){var r=n.type,i=t.type;return r==i?0:r==CKEDITOR.STYLE_OBJECT?-1:i==CKEDITOR.STYLE_OBJECT?1:i==CKEDITOR.STYLE_BLOCK?1:-1}CKEDITOR.plugins.add("stylescombo",{requires:["richcombo","styles"],init:function(n){var f=n.config,r=n.lang.stylesCombo,e=this.path,u;n.ui.addRichCombo("Styles",{label:r.label,title:r.panelTitle,voiceLabel:r.voiceLabel,className:"cke_styles",multiSelect:!0,panel:{css:n.skin.editor.css.concat(f.contentsCss),voiceLabel:r.panelVoiceLabel},init:function(){var o=this,n=f.stylesCombo_stylesSet.split(":"),s=n[1]?n.slice(1).join(":"):CKEDITOR.getUrl(e+"styles/"+n[0]+".js");n=n[0],CKEDITOR.loadStylesSet(n,s,function(n){var f,s,h=[],e,l,a,c;for(u={},e=0;e<n.length;e++)l=n[e],s=l.name,f=u[s]=new CKEDITOR.style(l),f._name=s,h.push(f);for(h.sort(i),e=0;e<h.length;e++)f=h[e],s=f._name,c=f.type,c!=a&&(o.startGroup(r["panelTitle"+String(c)]),a=c),o.add(s,f.type==CKEDITOR.STYLE_OBJECT?s:t(f._.definition),s);o.commit(),o.onOpen()})},onClick:function(t){var i,r,f,e;if(n.focus(),n.fire("saveSnapshot"),i=u[t],r=n.getSelection(),i.type==CKEDITOR.STYLE_OBJECT){f=r.getSelectedElement(),f&&i.applyToObject(f);return}e=new CKEDITOR.dom.elementPath(r.getStartElement()),i.type==CKEDITOR.STYLE_INLINE&&i.checkActive(e)?i.remove(n.document):i.apply(n.document),n.fire("saveSnapshot")},onRender:function(){n.on("selectionChange",function(n){for(var e=this.getValue(),o=n.data.path,r=o.elements,f,i,t=0;t<r.length;t++){f=r[t];for(i in u)if(u[i].checkElementRemovable(f,!0)){i!=e&&this.setValue(i);return}}this.setValue("")},this)},onOpen:function(){var f,e,o;CKEDITOR.env.ie&&n.focus();var s=n.getSelection(),t=s.getSelectedElement(),h=t&&t.getName(),c=new CKEDITOR.dom.elementPath(t||s.getStartElement()),i=[0,0,0,0];this.showAll(),this.unmarkAll();for(f in u)e=u[f],o=e.type,o==CKEDITOR.STYLE_OBJECT?t&&e.element==h?(e.checkElementRemovable(t,!0)&&this.mark(f),i[o]++):this.hideItem(f):(e.checkActive(c)&&this.mark(f),i[o]++);i[CKEDITOR.STYLE_BLOCK]||this.hideGroup(r["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),i[CKEDITOR.STYLE_INLINE]||this.hideGroup(r["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),i[CKEDITOR.STYLE_OBJECT]||this.hideGroup(r["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])}})}});var n={};CKEDITOR.addStylesSet=function(t,i){n[t]=i},CKEDITOR.loadStylesSet=function(t,i,r){var u=n[t];if(u){r(u);return}CKEDITOR.scriptLoader.load(i,function(){r(n[t])})}})(),CKEDITOR.config.stylesCombo_stylesSet="default";