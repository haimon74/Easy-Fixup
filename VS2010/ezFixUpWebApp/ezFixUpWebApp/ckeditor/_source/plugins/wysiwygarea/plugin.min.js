(function(){function f(n){var i,t,u,r;this.mode=="wysiwyg"&&(this.focus(),this.fire("saveSnapshot"),i=this.getSelection(),t=n.data,this.dataProcessor&&(t=this.dataProcessor.toHtml(t)),CKEDITOR.env.ie?(u=i.isLocked,u&&i.unlock(),r=i.getNative(),r.type=="Control"&&r.clear(),r.createRange().pasteHTML(t),u&&this.getSelection().lock()):this.document.$.execCommand("inserthtml",!1,t),CKEDITOR.tools.setTimeout(function(){this.fire("saveSnapshot")},0,this))}function e(n){var t,s,f,r,i,h,e;if(this.mode=="wysiwyg"){this.focus(),this.fire("saveSnapshot");var o=n.data,c=o.getName(),v=CKEDITOR.dtd.$block[c],u=this.getSelection(),l=u.getRanges(),a=u.isLocked;for(a&&u.unlock(),r=l.length-1;r>=0;r--){if(t=l[r],t.deleteContents(),s=!r&&o||o.clone(!0),v)while((i=t.getCommonAncestor(!1,!0))&&(h=CKEDITOR.dtd[i.getName()])&&!(h&&h[c]))i.getName()in CKEDITOR.dtd.span?t.splitElement(i):t.checkStartOfBlock()&&t.checkEndOfBlock()?(t.setStartBefore(i),t.collapse(!0),i.remove()):t.splitBlock();t.insertNode(s),f||(f=s)}t.moveToPosition(f,CKEDITOR.POSITION_AFTER_END),e=f.getNextSourceNode(!0),e&&e.type==CKEDITOR.NODE_ELEMENT&&t.moveToElementEditStart(e),u.selectRanges([t]),a&&this.getSelection().lock(),CKEDITOR.tools.setTimeout(function(){this.fire("saveSnapshot")},0,this)}}function u(n){n.checkDirty()||setTimeout(function(){n.resetDirty()})}function s(n){return t(n)&&o(n)}function h(n){return n.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(n.getText()).match(/^(?:&nbsp;|\xa0)$/)}function c(i){var f=i.editor,p=i.data.path,w=p.blockLimit,b=i.data.selection,o=b.getRanges()[0],y=f.document.getBody(),k=f.config.enterMode,e,a,c,l,v;k!=CKEDITOR.ENTER_BR&&o.collapsed&&w.getName()=="body"&&!p.block&&(u(f),e=o.fixBlock(!0,f.config.enterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.ie&&(a=e.getFirst(s),a&&h(a)&&a.remove()),e.getOuterHtml().match(r)&&(c=e.getPrevious(t),l=e.getNext(t),(c&&c.getName&&!(c.getName()in n)&&o.moveToElementEditStart(c)||l&&l.getName&&!(l.getName()in n)&&o.moveToElementEditStart(l))&&e.remove()),o.select(),CKEDITOR.env.ie||f.selectionChange()),v=y.getLast(CKEDITOR.dom.walker.whitespaces(!0)),v&&v.getName&&v.getName()in n&&(u(f),CKEDITOR.env.ie?y.append(f.document.createText("Â ")):y.appendBogus())}var n={table:1,pre:1},r=/\s*<(p|div|address|h\d|center)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\1>)?\s*(?=$|<\/body>)/gi,t=CKEDITOR.dom.walker.whitespaces(!0),o=CKEDITOR.dom.walker.bookmark(!1,!0),i;CKEDITOR.plugins.add("wysiwygarea",{requires:["editingblock"],init:function(n){var i=n.config.enterMode!=CKEDITOR.ENTER_BR?n.config.enterMode==CKEDITOR.ENTER_DIV?"div":"p":!1,t;n.on("editingBlockReady",function(){var o,s,u,l,h,a,v,y=CKEDITOR.env.isCustomDomain(),p=function(t){u&&u.remove(),s&&s.remove(),a=0,u=CKEDITOR.dom.element.createFromHtml('<iframe style="width:100%;height:100%" frameBorder="0"'+(y?" src=\"javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())\"":"")+' tabIndex="-1" allowTransparency="true"><\/iframe>');u.on("load",function(n){n.removeListener();var i=u.getFrameDocument().$;i.open(),y&&(i.domain=document.domain),i.write(t),i.close()});var i=n.lang.editorTitle.replace("%1",n.name);CKEDITOR.env.gecko?(o.setAttributes({role:"region",title:i}),u.setAttributes({role:"region",title:" "})):CKEDITOR.env.webkit?(u.setAttribute("title",i),u.setAttribute("name",i)):CKEDITOR.env.ie&&(s=CKEDITOR.dom.element.createFromHtml('<fieldset style="height:100%'+(CKEDITOR.env.ie&&CKEDITOR.env.quirks?";position:relative":"")+'"><legend style="display:block;width:0;height:0;overflow:hidden;'+(CKEDITOR.env.ie&&CKEDITOR.env.quirks?"position:absolute":"")+'">'+CKEDITOR.tools.htmlEncode(i)+"<\/legend><\/fieldset>",CKEDITOR.document),u.appendTo(s),s.appendTo(o)),CKEDITOR.env.ie||o.append(u)},w='<script id="cke_actscrpt" type="text/javascript">window.parent.CKEDITOR._["contentDomReady'+n.name+'"]( window );<\/script>',b=function(i){var f,e,o,c;if(!a){a=1;var r=i.document,u=r.body,s=r.getElementById("cke_actscrpt");s.parentNode.removeChild(s),delete CKEDITOR._["contentDomReady"+n.name],u.spellcheck=!n.config.disableNativeSpellChecker,CKEDITOR.env.ie?(u.hideFocus=!0,u.disabled=!0,u.contentEditable=!0,u.removeAttribute("disabled")):r.designMode="on";try{r.execCommand("enableObjectResizing",!1,!n.config.disableObjectResizing)}catch(y){}try{r.execCommand("enableInlineTableEditing",!1,!n.config.disableNativeTableHandles)}catch(y){}if(i=n.window=new CKEDITOR.dom.window(i),r=n.document=new CKEDITOR.dom.document(r),!(CKEDITOR.env.ie||CKEDITOR.env.opera))r.on("mousedown",function(t){var i=t.data.getTarget();i.is("img","hr","input","textarea","select")&&n.getSelection().selectElement(i)});if(CKEDITOR.env.webkit){r.on("click",function(n){n.data.getTarget().is("input","select")&&n.data.preventDefault()});r.on("mouseup",function(n){n.data.getTarget().is("input","textarea")&&n.data.preventDefault()})}if(CKEDITOR.env.ie&&r.$.compatMode=="CSS1Compat"){f=r.getDocumentElement();f.on("mousedown",function(n){n.data.getTarget().equals(f)&&t.focus()})}e=CKEDITOR.env.ie||CKEDITOR.env.webkit?i:r;e.on("blur",function(){n.focusManager.blur()});e.on("focus",function(){var t,f,e;if(CKEDITOR.env.gecko){for(t=u;t.firstChild;)t=t.firstChild;!t.nextSibling&&"BR"==t.tagName&&t.hasAttribute("_moz_editor_bogus_node")&&(f=r.$.createEvent("KeyEvents"),f.initKeyEvent("keypress",!0,!0,i.$,!1,!1,!1,!1,0,32),r.$.dispatchEvent(f),e=r.getBody().getFirst(),n.config.enterMode==CKEDITOR.ENTER_BR?r.createElement("br",{attributes:{_moz_dirty:""}}).replace(e):e.remove())}n.focusManager.focus()});if(o=n.keystrokeHandler,o&&o.attach(r),CKEDITOR.env.ie){r.on("keydown",function(t){var i=t.data.getKeystroke()==8&&n.getSelection().getSelectedElement();i&&(n.fire("saveSnapshot"),i.remove(),n.fire("saveSnapshot"),t.cancel())});if(r.$.compatMode=="CSS1Compat"){c={33:1,34:1};r.on("keydown",function(t){t.data.getKeystroke()in c&&setTimeout(function(){n.getSelection().scrollIntoView()},0)})}}n.contextMenu&&n.contextMenu.addTarget(r,n.config.browserContextMenuOnCtrl!==!1),setTimeout(function(){n.fire("contentDom"),v&&(n.mode="wysiwyg",n.fire("mode"),v=!1),l=!1,h&&(n.focus(),h=!1),setTimeout(function(){n.fire("dataReady")},0),CKEDITOR.env.ie&&setTimeout(function(){if(n.document){var t=n.document.$.body;t.runtimeStyle.marginBottom="0px",t.runtimeStyle.marginBottom=""}},1e3)},0)}};n.addMode("wysiwyg",{load:function(t,i,r){o=t,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&t.setStyle("position","relative"),n.mayBeDirty=!0,v=!0,r?this.loadSnapshotData(i):this.loadData(i)},loadData:function(t){var f;l=!0;var r=n.config,e=r.fullPage,o=r.docType,u='<style type="text/css" cke_temp="1">'+n._.styles.join("\n")+"<\/style>";e||(u=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss)+u),f=r.baseHref?'<base href="'+r.baseHref+'" cke_temp="1" />':"",e&&(t=t.replace(/<!DOCTYPE[^>]*>/i,function(t){return n.docType=o=t,""})),n.dataProcessor&&(t=n.dataProcessor.toHtml(t,i)),e?(/<body[\s|>]/.test(t)||(t="<body>"+t),/<html[\s|>]/.test(t)||(t="<html>"+t+"<\/html>"),/<head[\s|>]/.test(t)||(t=t.replace(/<html[^>]*>/,"$&<head><title><\/title><\/head>")),f&&(t=t.replace(/<head>/,"$&"+f)),t=t.replace(/<\/head\s*>/,u+"$&"),t=o+t):t=r.docType+'<html dir="'+r.contentsLangDirection+'"><head>'+f+u+"<\/head><body"+(r.bodyId?' id="'+r.bodyId+'"':"")+(r.bodyClass?' class="'+r.bodyClass+'"':"")+">"+t+"<\/html>",t+=w,CKEDITOR._["contentDomReady"+n.name]=b,p(t)},getData:function(){var f=n.config,e=f.fullPage,o=e&&n.docType,s=u.getFrameDocument(),t=e?s.getDocumentElement().getOuterHtml():s.getBody().getHtml();return n.dataProcessor&&(t=n.dataProcessor.toDataFormat(t,i)),f.ignoreEmptyParagraph&&(t=t.replace(r,"")),o&&(t=o+"\n"+t),t},getSnapshotData:function(){return u.getFrameDocument().getBody().getHtml()},loadSnapshotData:function(n){u.getFrameDocument().getBody().setHtml(n)},unload:function(){n.window=n.document=u=o=h=null,n.fire("contentDomUnload")},focus:function(){var t,i;if(l)h=!0;else if(n.window){if(n.window.focus(),CKEDITOR.env.ie)try{t=n.getSelection(),t=t&&t.getNative(),i=t&&t.type&&t.createRange(),i&&(t.empty(),i.select())}catch(r){}n.selectionChange()}}});n.on("insertHtml",f,null,null,20);n.on("insertElement",e,null,null,20);n.on("selectionChange",c,null,null,1)});if(CKEDITOR.env.ie)n.on("uiReady",function(){t=n.container.append(CKEDITOR.dom.element.createFromHtml('<input tabindex="-1" style="position:absolute; left:-10000">'));t.on("focus",function(){n.focus()})})}}),CKEDITOR.env.gecko&&(i=window.top,function(){var n=i.document.body;n?n.setAttribute("onpageshow",n.getAttribute("onpageshow")+";event.persisted && CKEDITOR.tools.callFunction("+CKEDITOR.tools.addFunction(function(){var t=CKEDITOR.instances,i,n,r;for(r in t)i=t[r],n=i.document,n&&(n.$.designMode="off",n.$.designMode="on")})+")"):i.addEventListener("load",arguments.callee,!1)}())})(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.ignoreEmptyParagraph=!0;