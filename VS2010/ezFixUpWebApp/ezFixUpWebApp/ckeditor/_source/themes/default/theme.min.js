CKEDITOR.themes.add("default",function(){function n(n,t){var u,i,f,r;if(i=n.config.sharedSpaces,i=i&&i[t],i=i&&CKEDITOR.document.getById(i),i){f='<span class="cke_shared"><span class="'+n.skinClass+" cke_editor_"+n.name+'"><span class="'+CKEDITOR.env.cssClass+'"><span class="cke_wrapper cke_'+n.lang.dir+'"><span class="cke_editor"><div class="cke_'+t+'"><\/div><\/span><\/span><\/span><\/span><\/span>',r=i.append(CKEDITOR.dom.element.createFromHtml(f,i.getDocument())),i.getCustomData("cke_hasshared")?r.hide():i.setCustomData("cke_hasshared",1),u=r.getChild([0,0,0,0]);n.on("focus",function(){for(var t=0,n,u=i.getChildren();n=u.getItem(t);t++)n.type==CKEDITOR.NODE_ELEMENT&&!n.equals(r)&&n.hasClass("cke_shared")&&n.hide();r.show()});n.on("destroy",function(){r.remove()})}return u}return{build:function(t){var r=t.name,e=t.element,l=t.elementMode,c,f,a,v,i;if(e&&l!=CKEDITOR.ELEMENT_MODE_NONE){l==CKEDITOR.ELEMENT_MODE_REPLACE&&e.hide();var u=t.fire("themeSpace",{space:"top",html:""}).html,o=t.fire("themeSpace",{space:"contents",html:""}).html,s=t.fireOnce("themeSpace",{space:"bottom",html:""}).html,h=o&&t.config.height,y=t.config.tabIndex||t.element.getAttribute("tabindex")||0;o?isNaN(h)||(h+="px"):h="auto",c="",f=t.config.width,f&&(isNaN(f)||(f+="px"),c+="width: "+f+";"),a=u&&n(t,"top"),v=n(t,"bottom"),a&&(a.setHtml(u),u=""),v&&(v.setHtml(s),s=""),i=CKEDITOR.dom.element.createFromHtml(['<span id="cke_',r,'" onmousedown="return false;" class="',t.skinClass," cke_editor_",r,'" dir="',t.lang.dir,'" title="',CKEDITOR.env.gecko?" ":"",'" lang="',t.langCode,'" tabindex="'+y+'"'+(c?' style="'+c+'"':"")+'><span class="',CKEDITOR.env.cssClass,'"><span class="cke_wrapper cke_',t.lang.dir,'"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0"><tbody><tr',u?"":' style="display:none"','><td id="cke_top_',r,'" class="cke_top">',u,"<\/td><\/tr><tr",o?"":' style="display:none"','><td id="cke_contents_',r,'" class="cke_contents" style="height:',h,'">',o,"<\/td><\/tr><tr",s?"":' style="display:none"','><td id="cke_bottom_',r,'" class="cke_bottom">',s,"<\/td><\/tr><\/tbody><\/table><style>.",t.skinClass,"{visibility:hidden;}<\/style><\/span><\/span><\/span>"].join("")),i.getChild([0,0,0,0,0]).unselectable(),i.getChild([0,0,0,0,2]).unselectable(),l==CKEDITOR.ELEMENT_MODE_REPLACE?i.insertAfter(e):e.append(i),t.container=i,i.disableContextMenu(),t.fireOnce("themeLoaded"),t.fireOnce("uiReady")}},buildDialog:function(n){var f=CKEDITOR.tools.getNextNumber(),i=CKEDITOR.dom.element.createFromHtml(['<div class="cke_editor_'+n.name.replace(".","\\.")+"_dialog cke_skin_",n.skinName,'" dir="',n.lang.dir,'" lang="',n.langCode,'"><table class="cke_dialog'," "+CKEDITOR.env.cssClass," cke_",n.lang.dir,'" style="position:absolute"><tr><td><div class="%body"><div id="%title#" class="%title"><\/div><div id="%close_button#" class="%close_button"><span>X<\/span><\/div><div id="%tabs#" class="%tabs"><\/div><table class="%contents"><tr><td id="%contents#" class="%contents"><\/td><\/tr><\/table><div id="%footer#" class="%footer"><\/div><\/div><div id="%tl#" class="%tl"><\/div><div id="%tc#" class="%tc"><\/div><div id="%tr#" class="%tr"><\/div><div id="%ml#" class="%ml"><\/div><div id="%mr#" class="%mr"><\/div><div id="%bl#" class="%bl"><\/div><div id="%bc#" class="%bc"><\/div><div id="%br#" class="%br"><\/div><\/td><\/tr><\/table>',CKEDITOR.env.ie?"":"<style>.cke_dialog{visibility:hidden;}<\/style>","<\/div>"].join("").replace(/#/g,"_"+f).replace(/%/g,"cke_dialog_")),t=i.getChild([0,0,0,0,0]),r=t.getChild(0),u=t.getChild(1);return r.unselectable(),u.unselectable(),{element:i,parts:{dialog:i.getChild(0),title:r,close:u,tabs:t.getChild(2),contents:t.getChild([3,0,0,0]),footer:t.getChild(4)}}},destroy:function(n){var t=n.container,i;if(CKEDITOR.env.ie){t.setStyle("display","none"),i=document.body.createTextRange(),i.moveToElementText(t.$);try{i.select()}catch(r){}}t&&t.remove(),n.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(n.element.show(),delete n.element)}}}()),CKEDITOR.editor.prototype.getThemeSpace=function(n){var t="cke_"+n;return this._[t]||(this._[t]=CKEDITOR.document.getById(t+"_"+this.name))},CKEDITOR.editor.prototype.resize=function(n,t,i,r){var o;/^\d+$/.test(n)&&(n+="px");var f=this.container,e=CKEDITOR.document.getById("cke_contents_"+this.name),u=r?f.getChild(0):f;CKEDITOR.env.webkit&&u.setStyle("display","none"),u.setStyle("width",n),CKEDITOR.env.webkit&&(u.$.offsetWidth,u.setStyle("display","")),o=i?0:(u.$.offsetHeight||0)-(e.$.clientHeight||0),e.setStyle("height",Math.max(t-o,0)+"px"),this.fire("resize")},CKEDITOR.editor.prototype.getResizable=function(){return this.container.getChild(0)};