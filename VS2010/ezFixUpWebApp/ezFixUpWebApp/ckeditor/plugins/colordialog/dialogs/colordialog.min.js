CKEDITOR.dialog.add("colordialog",function(n){function e(){return{type:"html",html:"&nbsp;"}}function a(){function i(t,i){for(var s,e,o,r=t;r<t+3;r++)for(s=f.$.insertRow(-1),e=i;e<i+3;e++)for(o=0;o<6;o++)u(s,"#"+n[e]+n[o]+n[r])}function u(n,t){var i=new r(n.insertCell(-1));i.setAttribute("class","ColorCell"),i.setStyle("background-color",t),i.setStyle("width","15px"),i.setStyle("height","15px"),i.setAttribute("title",t)}var n=["00","33","66","99","cc","ff"],e,t,o;for(i(0,0),i(3,0),i(0,3),i(3,3),e=f.$.insertRow(-1),t=0;t<6;t++)u(e,"#"+n[t]+n[t]+n[t]);for(o=0;o<12;o++)u(e,"#000000")}function h(){t.getById("selhicolor").removeStyle("background-color"),u.getContentElement("picker","selectedColor").setValue("")}var r=CKEDITOR.dom.element,t=CKEDITOR.document,l=CKEDITOR.tools,i=n.lang.colordialog,u,f=new r("table"),o,s,c;return a(),o=function(n){var i=new r(n.data.getTarget()).getAttribute("title");t.getById("hicolor").setStyle("background-color",i),t.getById("hicolortext").setHtml(i)},s=function(n){var t=new r(n.data.getTarget()).getAttribute("title");u.getContentElement("picker","selectedColor").setValue(t)},c=l.addFunction(function(){t.getById("hicolor").removeStyle("background-color"),t.getById("hicolortext").setHtml("&nbsp;")}),{title:i.title,minWidth:360,minHeight:220,onLoad:function(){u=this},contents:[{id:"picker",label:i.title,accessKey:"I",elements:[{type:"hbox",padding:0,widths:["70%","10%","30%"],children:[{type:"html",html:'<table onmouseout="CKEDITOR.tools.callFunction( '+c+' );">'+f.getHtml()+"<\/table>",onLoad:function(){var n=CKEDITOR.document.getById(this.domId);n.on("mouseover",o);n.on("click",s)}},e(),{type:"vbox",padding:0,widths:["70%","5%","25%"],children:[{type:"html",html:"<span>"+i.highlight+'<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<div id="hicolor" style="border: 1px solid; height: 74px; width: 74px;"><\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div id="hicolortext">&nbsp;<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<span>'+i.selected+'<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<div id="selhicolor" style="border: 1px solid; height: 20px; width: 74px;"><\/div>'},{type:"text",id:"selectedColor",style:"width: 74px",onChange:function(){try{t.getById("selhicolor").setStyle("background-color",this.getValue())}catch(n){h()}}},e(),{type:"button",id:"clear",style:"margin-top: 5px",label:i.clear,onClick:h}]}]}]}]}});