CKEDITOR.skins=function(){var t={},i={},n={},r=function(u,f,e,o){function k(n,t){return n.replace(/url\s*\(([\s'"]*)(.*?)([\s"']*)\)/g,function(n,i,r,u){return/^\/|^\w?:/.test(r)?n:"url("+t+i+r+u+")"})}var c=t[f],a,l,w,h,s,v;if(u.skin||(u.skin=c,c.init&&c.init(u)),a=function(t){for(var i=0;i<t.length;i++)t[i]=CKEDITOR.getUrl(n[f]+t[i])},!i[f]){if(l=c.preload,l&&l.length>0){a(l),CKEDITOR.imageCacher.load(l,function(){i[f]=1,r(u,f,e,o)});return}i[f]=1}if(e=c[e],w=!e||!!e._isLoaded,w)o&&o();else{if(h=e._pending||(e._pending=[]),h.push(o),h.length>1)return;var y=!e.css||!e.css.length,p=!e.js||!e.js.length,b=function(){if(y&&p){e._isLoaded=1;for(var n=0;n<h.length;n++)h[n]&&h[n]()}};if(!y){if(s=e.css,CKEDITOR.tools.isArray(s))for(a(s),v=0;v<s.length;v++)CKEDITOR.document.appendStyleSheet(s[v]);else s=k(s,CKEDITOR.getUrl(n[f])),CKEDITOR.document.appendStyleText(s);e.css=s,y=1}p||(a(e.js),CKEDITOR.scriptLoader.load(e.js,function(){p=1,b()})),b()}};return{add:function(i,r){t[i]=r,r.skinPath=n[i]||(n[i]=CKEDITOR.getUrl("_source/skins/"+i+"/"))},load:function(i,u,f){var e=i.skinName,o=i.skinPath;t[e]?r(i,e,u,f):(n[e]=o,CKEDITOR.scriptLoader.load(o+"skin.js",function(){r(i,e,u,f)}))}}}();