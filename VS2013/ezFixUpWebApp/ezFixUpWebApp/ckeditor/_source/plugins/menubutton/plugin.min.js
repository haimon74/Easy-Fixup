CKEDITOR.plugins.add("menubutton",{requires:["button","contextmenu"],beforeInit:function(n){n.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON=5,function(){var n=function(n){var t=this._,i;if(t.state!==CKEDITOR.TRISTATE_DISABLED){if(t.previousState=t.state,i=t.menu,i||(i=t.menu=new CKEDITOR.plugins.contextMenu(n),i.onHide=CKEDITOR.tools.bind(function(){this.setState(t.previousState)},this),this.onMenu&&i.addListener(this.onMenu)),t.on){i.hide();return}this.setState(CKEDITOR.TRISTATE_ON),i.show(CKEDITOR.document.getById(this._.id),4)}};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){var i=t.panel;delete t.panel,this.base(t),this.hasArrow=!0,this.click=n},statics:{handler:{create:function(n){return new CKEDITOR.ui.menuButton(n)}}}})}();