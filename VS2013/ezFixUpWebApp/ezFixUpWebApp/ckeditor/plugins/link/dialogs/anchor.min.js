CKEDITOR.dialog.add("anchor",function(n){var t=function(n,t,i){var r=this,u;r.editMode=!0,r.editObj=i,u=r.editObj.getAttribute("name"),u?r.setValueOf("info","txtName",u):r.setValueOf("info","txtName","")};return{title:n.lang.anchor.title,minWidth:300,minHeight:60,onOk:function(){var t=this,u=t.getValueOf("info","txtName"),i=CKEDITOR.env.ie?n.document.createElement('<a name="'+CKEDITOR.tools.htmlEncode(u)+'">'):n.document.createElement("a"),r;return t.editMode&&(t.editObj.copyAttributes(i,{name:1}),t.editObj.moveChildren(i)),i.removeAttribute("_cke_saved_name"),i.setAttribute("name",u),r=n.createFakeElement(i,"cke_anchor","anchor"),t.editMode?(r.replace(t.fakeObj),n.getSelection().selectElement(r)):n.insertElement(r),!0},onShow:function(){var i=this,u,r;i.editObj=!1,i.fakeObj=!1,i.editMode=!1,u=n.getSelection(),r=u.getSelectedElement(),r&&r.getAttribute("_cke_real_element_type")&&r.getAttribute("_cke_real_element_type")=="anchor"&&(i.fakeObj=r,r=n.restoreRealElement(i.fakeObj),t.apply(i,[n,u,r]),u.selectElement(i.fakeObj)),i.getContentElement("info","txtName").focus()},contents:[{id:"info",label:n.lang.anchor.title,accessKey:"I",elements:[{type:"text",id:"txtName",label:n.lang.anchor.name,validate:function(){return this.getValue()?!0:(alert(n.lang.anchor.errorName),!1)}}]}]}});