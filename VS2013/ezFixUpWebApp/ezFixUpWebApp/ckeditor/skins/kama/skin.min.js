CKEDITOR.skins.add("kama",function(){var n=[],t="cke_ui_color";return CKEDITOR.env.ie&&CKEDITOR.env.version<7&&n.push("icons.png","images/sprites_ie6.png","images/dialog_sides.gif"),{preload:n,editor:{css:["editor.css"]},dialog:{css:["dialog.css"]},templates:{css:["templates.css"]},margins:[0,0,0,0],init:function(n){function o(n){var i=n.getById(t);return i||(i=n.getHead().append("style"),i.setAttribute("id",t),i.setAttribute("type","text/css")),i}function u(n,t,i){for(var r,e,u,f=0;f<n.length;f++)if(CKEDITOR.env.webkit)for(e=0;e<t.length;e++){for(u=t[e][1],r=0;r<i.length;r++)u=u.replace(i[r][0],i[r][1]);n[f].$.sheet.addRule(t[e][0],u)}else{for(u=t,r=0;r<i.length;r++)u=u.replace(i[r][0],i[r][1]);CKEDITOR.env.ie?n[f].$.styleSheet.cssText+=u:n[f].$.innerHTML+=u}}var r,f;n.config.width&&!isNaN(n.config.width)&&(n.config.width-=12);var e=[],i="/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}";if(CKEDITOR.env.webkit)for(i=i.split("}").slice(0,-1),r=0;r<i.length;r++)i[r]=i[r].split("{");f=/\$color/g,CKEDITOR.tools.extend(n,{uiColor:null,getUiColor:function(){return this.uiColor},setUiColor:function(t){var s,l=o(CKEDITOR.document),r=".cke_editor_"+CKEDITOR.tools.escapeCssSelector(n.name),h=[r+" .cke_wrapper",r+"_dialog .cke_dialog_contents",r+"_dialog a.cke_dialog_tab",r+"_dialog .cke_dialog_footer"].join(","),c="background-color: $color !important;";return s=CKEDITOR.env.webkit?[[h,c]]:h+"{"+c+"}",(this.setUiColor=function(t){var r=[[f,t]];n.uiColor=t,u([l],s,r),u(e,i,r)})(t)}});n.on("menuShow",function(t){var c=t.data[0],h=c.element.getElementsByTag("iframe").getItem(0).getFrameDocument(),r,s;h.getById("cke_ui_color")||(r=o(h),e.push(r),s=n.getUiColor(),s&&u([r],i,[[f,s]]))});n.config.uiColor&&n.setUiColor(n.config.uiColor)}}}()),function(){function n(){CKEDITOR.dialog.on("resize",function(n){var t=n.data,r=t.width,u=t.height,i=t.dialog,f=i.parts.contents;t.skin=="kama"&&(f.setStyles({width:r+"px",height:u+"px"}),setTimeout(function(){var t=i.parts.dialog.getChild([0,0,0]),r=t.getChild(0),n=t.getChild(2);n.setStyle("width",r.$.offsetWidth+"px"),n=t.getChild(7),n.setStyle("width",r.$.offsetWidth-28+"px"),n=t.getChild(4),n.setStyle("height",r.$.offsetHeight-45+"px"),n=t.getChild(5),n.setStyle("height",r.$.offsetHeight-45+"px")},100))})}CKEDITOR.dialog?n():CKEDITOR.on("dialogPluginReady",n)}();